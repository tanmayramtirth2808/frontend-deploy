<div class="container mt-4">
  <h2 class="mb-4">Update Book</h2>
  <form (ngSubmit)="onSubmit()" #updateBookForm="ngForm">
    <div class="form-group">
      <label for="title">Title</label>
      <input
        type="text"
        id="title"
        class="form-control"
        [(ngModel)]="title"
        name="title"
        required
      />
    </div>
    <div class="form-group mt-3">
      <label for="description">Description</label>
      <textarea
        id="description"
        class="form-control"
        [(ngModel)]="description"
        name="description"
        rows="3"
        required
      ></textarea>
    </div>
    <div *ngIf="imageUrl" class="mt-3">
      <label>Image Preview:</label>
      <img
        [src]="imageUrl"
        alt="Image Preview"
        class="img-thumbnail"
        style="max-height: 200px; cursor: pointer;"
        (click)="openImageModal()"
      />
    </div>
    <div class="form-group mt-3">
      <label for="image">Image</label>
      <input
        type="file"
        id="image"
        class="form-control"
        (change)="onFileChange($event)"
      />
    </div>
    <div class="mt-4">
      <button type="submit" class="btn btn-primary">Update</button>
      <a routerLink="/books" class="btn btn-secondary ms-2">Cancel</a>
    </div>
  </form>
</div>

<div
  class="modal fade"
  id="imageModal"
  tabindex="-1"
  aria-labelledby="imageModalLabel"
  aria-hidden="true"
>
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="imageModalLabel">Zoomed Image</h5>
        <button
          type="button"
          class="btn-close"
          data-bs-dismiss="modal"
          aria-label="Close"
        ></button>
      </div>
      <div class="modal-body">
        <img
          [src]="imageUrl"
          alt="Zoomed Image"
          class="img-fluid"
          id="zoomedImage"
          style="max-width: 100%;"
        />
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" (click)="zoomOut()">
          <i class="bi bi-zoom-out"></i>
        </button>
        <button type="button" class="btn btn-primary" (click)="zoomIn()">
          <i class="bi bi-zoom-in"></i>
        </button>
      </div>
    </div>
  </div>
</div>
